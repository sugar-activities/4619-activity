{% extends "base.html" %}
{% block view %}
<div class="resource-form">
    <div id="resource-form-title">
    {{_('Sugar Network Synchronization')}}
    <div class="window-buttons">
        <img id="cancel-button" class="button window-button" src="/static/icons/dialog-cancel.png" />
    </div>
    </div>
    <div class="resource-form-field">
    <b>{{_('The following resources are queued for sharing.')}}</b>
    <br/><br/>
    {{_('Feedback')}}: {{resources_total}}
    <br/><br/>
    {{_('Solutions')}}: {{solutions_total}}
    <br/><br/>
    {{_('Failure reports')}}: {{reports_total}}
    </div>
    {%- if (session['connected'] or False) -%}
    <div class="resource-form-field">
        <input class="sugar-button" type="button" id="go_ahead" value="{{_('Upload and share')}}" onclick="location='/sync/all'" />
    </div>
    <div class="resource-form-field license-notice">
        <img class="license-big" src="/static/images/{{_('cc-by-sa-full.png')}}" />
        {{_('<b>Creative Commons Attribution Share-Alike License</b>')}}
        {{_('Please note that all contributions to Sugar Labs are considered to be released under the Attribution 3.0 Unported. If you do not want your writing to be edited and redistributed at will, then do not submit it here.') }}
        <br />
        {{_('You are also promising us that you wrote this yourself, or copied it from a public domain or similar free resource.')}}
    </div>
    {%- else -%}
    <div class="resource-form-field">
        <br/>
        <br/>
        <b>{{_('You are in offline mode')}}</b>
        <br/>
        {{_('You need to be connected to the Internet or to a Sugar Network Node in order to sync.')}}
    </div>
    <div class="resource-form-field">
        <input class="sugar-button" type="button" id="go_ahead" value="{{_('Try to connect')}}" onclick="location='/_toggle_connect/sync'" />
    </div>
    {%- endif -%}
</div>
<script type="text/javascript">
    $(function() {
       $("#query").attr('disabled', true);
       $("#cancel-button").click( function() {
            location='{{returnto|special_str or session['returnto']}}';
       });
    });
</script>
{% endblock view %}
